/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/

syntax = "proto3";
package my_table.products;

message Envelope {
  Value before = 1;
  Value after = 2;
  Source source = 3;
  string op = 4;
  int64 ts_ms = 5;
  int64 ts_us = 6;
  int64 ts_ns = 7;
  block transaction = 8;

  message Value {
    int64 long = 1;
    string string = 2;
    bool bool = 3;
  }
  message Source {
    string version = 1;
    string connector = 2;
    string name = 3;
    int64 ts_ms = 4;
    string snapshot = 5;
    string db = 6;
    string sequence = 7;
    int64 ts_us = 8;
    int64 ts_ns = 9;
    string table = 10;
    int64 server_id = 11;
    string gtid = 12;
    string file = 13;
    int64 pos = 14;
    int32 row = 15;
    int64 thread = 16;
    string query = 17;
  }
  message block {
    string id = 1;
    int64 total_order = 2;
    int64 data_collection_order = 3;
  }
}
