<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
	<id>bin</id>
	<formats>
		<format>dir</format>
	</formats>

	<includeBaseDirectory>true</includeBaseDirectory>
	<baseDirectory>flink-${project.version}</baseDirectory>

	<dependencySets>
		<!-- Package Flink connectors, metrics, and libraries in opt/ -->
		<dependencySet>
			<outputDirectory>opt/connectors/batch/hadoop-compatibility</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-hadoop-compatibility_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/batch/hbase</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-hbase_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/batch/hcatalog</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-hcatalog</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/batch/jdbc</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-jdbc</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/cassandra</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-cassandra_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/elasticsearch</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-elasticsearch_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/elasticsearch2</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-elasticsearch2_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/filesystem</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-filesystem_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/flume</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-flume_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/kafka-0.8</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-kafka-0.8_2.10</include>
				<include>org.apache.flink:flink-connector-kafka-base_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/kafka-0.9</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-kafka-0.9_2.10</include>
				<include>org.apache.flink:flink-connector-kafka-base_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/kafka-0.10</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-kafka-0.10_2.10</include>
				<!-- Flink's Kafka 0.10 connector depends on the 0.9 connector -->
				<include>org.apache.flink:flink-connector-kafka-0.9_2.10</include>
				<include>org.apache.flink:flink-connector-kafka-base_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/nifi</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-nifi_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/rabbitmq</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-rabbitmq_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/redis</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-redis_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/connectors/streaming/twitter</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-connector-twitter_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/metrics/dropwizard</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-metrics-dropwizard</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/metrics/ganglia</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-metrics-ganglia</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/metrics/graphite</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-metrics-graphite</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/metrics/statsd</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-metrics-statsd</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/lib/cep</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-cep_2.10</include>
				<include>org.apache.flink:flink-cep-scala_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/lib/gelly</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-gelly_2.10</include>
				<include>org.apache.flink:flink-gelly-scala_2.10</include>
				<include>org.apache.flink:flink-gelly-examples_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/lib/ml</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-ml_2.10</include>
			</includes>
		</dependencySet>

		<dependencySet>
			<outputDirectory>opt/lib/storm</outputDirectory>
			<useTransitiveFiltering>true</useTransitiveFiltering>
			<includes>
				<include>org.apache.flink:flink-storm_2.10</include>
				<include>org.apache.flink:flink-storm-examples_2.10</include>
			</includes>
		</dependencySet>
	</dependencySets>
</assembly>
